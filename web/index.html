<!DOCTYPE html>
<html>
	<head>
		<!--
		DISCLAIMER: This HTML file is modified from a template generated by the fyne.io tool.
		-->
		<meta charset="utf-8">
		<link rel="icon" type="image/png" href="icon.png">
        <link rel="manifest" href="/manifest.json">
		<script>
			const async_load = (file, cb) => {
				var d = document, t = 'script',
      			o = d.createElement(t),
      			s = d.getElementsByTagName(t)[0];
  				o.src = file;
  				o.addEventListener('load', (e) => { cb(e); }, false);
  				s.parentNode.insertBefore(o, s);
			}
			const download_application = () => {
				const action = document.getElementById("action");
				const main = document.getElementById("main");
				if ((() => {
					try {
						var canvas = document.createElement('canvas');
						return !!window.WebGLRenderingContext &&
							(canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));
					} catch(e) {
						return false;
					}
				})()) {
					if (WebAssembly) {
						async_load("wasm_exec.js", () => {
							if (WebAssembly && !WebAssembly.instantiateStreaming) {
								WebAssembly.instantiateStreaming = async (resp, importObject) => {
									const source = await (await resp).arrayBuffer();
									return await WebAssembly.instantiate(source, importObject);
								};
							}
							const go = new Go();
							WebAssembly.instantiateStreaming(fetch("projectile-to-height.wasm"), go.importObject).then((result) => {
								main.innerHTML = "";
								go.run(result.instance);
							});
						})
					} else action.innerHTML = "WebAssembly is not supported in your browser";
				} else action.innerHTML = "WebGL is not supported in your browser";
			}
		</script>
	</head>
	<body scroll="no" style="overflow: hidden" onload="download_application()">
		<div id="main">
			<div class="centered-container">
			<table class="center">
				<tr>
					<td>
						<div class="centered-text"><div class="action" id="action">
							<noscript>Javascript need to be enable for this application to work.</noscript>
						</div></div>
					</td>
				</tr>
			</table>
			</div>
		</div>
	    <input id="dummyEntry" style="position: absolute; left: 0; top: -100pt; z-index: -10; font-size: 32pt;" />
	</body>
</html>
